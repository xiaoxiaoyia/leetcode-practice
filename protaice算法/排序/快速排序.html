<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>



    <script>

        // 简单版本的快速排序,很消耗性能
        // let arr = [3, 5, 7, 1, 4, 6, 9, 8, 2]
        // function quickSort(arr) {
        //     if (arr == null || arr.length == 0) return [];
        //     let leader = arr[0];
        //     let left = [];
        //     let right = [];
        //     for (let i = 1; i < arr.length; i++) {
        //         if (arr[i] > leader) right.push(arr[i])
        //         else left.push(arr[i]);
        //     }
        //     left = quickSort(left)
        //     right = quickSort(right)
        //     left.push(leader);
        //     return left.concat(right)
        // }

        // console.log(quickSort(arr));



        //标准版本的快速排序
        // 分析: 需要有一个基准(leader),左指针,右指针
        //       指针双向走,左边++,右边--,right指针向左边走找出第一个比leader小的
        //       left指针往右边走找出第一个比leader大的,然后交换两个值,重复
        //       直到左指针==右指针的时候,取rigth-1那个点与begin交换,数组变成左边比4小,右边比4大,
        //       然后递归思想,继续调用两次函数,左边传begin到那个分割点,右边传分割点+1到end,采用左闭右开区间

        let arr = [4, 1, 3, 2, 6, 8, 9, 7, 5]

        // function swapPoint(arr, a, b) {
        //     let temp = arr[a];
        //     arr[a] = arr[b];
        //     arr[b] = temp;
        // }

        // function quickSort2(arr, begin, end) {
        //     if (begin >= end - 1) return; // 严谨性判断
        //     let left = begin;
        //     let right = end;
        //     do {
        //         do left++; while (left < right && arr[left] < arr[begin]);
        //         do right--; while (right > left && arr[right] > arr[begin]);
        //         if (left < right) swapPoint(arr, left, right)
        //     } while (left < right)
        //     let swap = left <= right ? right - 1 : right;
        //     swapPoint(arr, begin, swap);
        //     quickSort2(arr, begin, swap);
        //     quickSort2(arr, swap + 1, end)
        // }

        // function rightQuickSort(arr) {
        //     quickSort2(arr, 0, arr.length);
        // }

        // rightQuickSort(arr)
        // console.log(arr);


        //袁宝老师快排 
        function quickSort(arr) {
            function _quickSort(arr, start, end) {
                if (start >= end || start > arr.length - 1) return;
                let low = start, high = end, leader = arr[end];
                while (low < high) {
                    while (low < high && arr[low] <= leader) low++;
                    arr[high] = arr[low];
                    while (low < high && arr[high] >= leader) high--;
                    arr[low] = arr[high]
                }
                arr[low] = leader;
                _quickSort(arr, start, low - 1);
                _quickSort(arr, low + 1, end)
            }
            _quickSort(arr, 0, arr.length - 1)
        }
        quickSort(arr)
        console.log(arr);


        

















    </script>
</body>

</html>